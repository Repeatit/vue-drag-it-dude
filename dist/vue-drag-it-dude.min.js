var DragItDude=function(t){"use strict";function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,s){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var h=i?s.media||"default":e,o=n[h]||(n[h]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var a=s.source,r=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+h+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",s.media&&d.setAttribute("media",s.media),i&&(d.setAttribute("data-group",h),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(r=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",r+1)),o.element.styleSheet)o.parts.push(a),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(a),p=o.element.childNodes;p[r]&&o.element.removeChild(p[r]),p.length?o.element.insertBefore(l,p[r]):o.element.appendChild(l)}}}}}function n(t){n.installed||(n.installed=!0,t.component("DragItDude",o))}var i={name:"drag-it-dude",props:{width:{type:Number,default:0},height:{type:Number,default:0},parentWidth:{type:Number,default:0},parentHeight:{type:Number,default:0},ignoreDrag:{type:[Boolean,Function],default:!1}},watch:{width:function(t,e){if(!(t<e)&&0!==this.left&&(this.parent.width=this.parentWidth||this.elem.parentNode.offsetWidth,this.parent.height=this.parentHeight||this.elem.parentNode.offsetHeight,t>this.parent.width-this.left)){var n=this.parent.width-t;this.left=n<0?0:n,this.elem.style.left=this.left+"px"}},height:function(t,e){if(!(t<e)&&0!==this.top&&(this.parent.width=this.parentWidth||this.elem.parentNode.offsetWidth,this.parent.height=this.parentHeight||this.elem.parentNode.offsetHeight,t>this.parent.height-this.top)){var n=this.parent.height-this.height;this.top=n,this.elem.style.top=this.top+"px"}}},data:function(){return{shiftY:null,shiftX:null,left:0,top:0,elem:null,isIos:!1,parent:{width:0,height:0}}},methods:{iosMove:function(t){this.isIos&&this.elementMove(t)},elementMove:function(t){this.$emit("dragging"),t.preventDefault(),t.pageX||(document.body.style.overflow="hidden");var e=t.pageX||t.changedTouches[0].pageX,n=t.pageY||t.changedTouches[0].pageY,i=e-this.shiftX,s=n-this.shiftY,h=e-this.shiftX+this.elem.offsetWidth,o=n-this.shiftY+this.elem.offsetHeight;i=i<0?0:h>this.parent.width?this.parent.width-this.elem.offsetWidth:e-this.shiftX,s=s<0?0:o>this.parent.height?this.parent.height-this.elem.offsetHeight:n-this.shiftY,this.elem.style.left=i+"px",this.left=i,this.elem.style.top=s+"px",this.top=s},hang:function(t){"function"==typeof this.ignoreDrag&&this.ignoreDrag(t)||"boolean"==typeof this.ignoreDrag&&this.ignoreDrag||(this.$emit("activated"),this.parent.width=this.parentWidth||this.elem.parentNode.offsetWidth,this.parent.height=this.parentHeight||this.elem.parentNode.offsetHeight,this.shiftX=t.pageX?t.pageX-this.elem.offsetLeft:t.changedTouches[0].pageX-this.elem.offsetLeft,this.shiftY=t.pageY?t.pageY-this.elem.offsetTop:t.changedTouches[0].pageY-this.elem.offsetTop,t.pageX?this.isIos?this.elem.addEventListener("touchmove",this.elementMove):(this.elem.parentElement.addEventListener("mousemove",this.elementMove),this.elem.parentElement.addEventListener("mouseleave",this.drop)):this.elem.addEventListener("touchmove",this.elementMove))},drop:function(){this.$emit("dropped"),document.body.style.overflow=null,this.elem.parentElement.removeEventListener("mousemove",this.elementMove,!1),this.elem.removeEventListener("touchmove",this.elementMove,!1),this.elem.parentElement.onmouseup=null,this.elem.ontouchend=null}},mounted:function(){this.isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.elem=this.$el,this.$emit("added",this)}},s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"drag-it-dude",on:{touchstart:function(e){return e.stopPropagation(),t.hang(e)},touchend:function(e){return e.stopPropagation(),t.drop(e)},mousedown:function(e){return e.stopPropagation(),t.hang(e)},mouseup:function(e){return e.stopPropagation(),t.drop(e)},touchmove:function(e){return e.stopPropagation(),t.iosMove(e)}}},[t._t("default")],2)},h=[];s._withStripped=!0;var o=function(t,e,n,i,s,h,o,a){var r=("function"==typeof n?n.options:n)||{};r.__file="/Users/cas/Git/vue-drag-it-dude/src/DragItDude.vue",r.render||(r.render=t.render,r.staticRenderFns=t.staticRenderFns,r._compiled=!0,s&&(r.functional=!0)),r._scopeId=i;var d;if(e&&(d=function(t){e.call(this,o(t))}),void 0!==d)if(r.functional){var l=r.render;r.render=function(t,e){return d.call(e),l(t,e)}}else{var p=r.beforeCreate;r.beforeCreate=p?[].concat(p,d):[d]}return r}({render:s,staticRenderFns:h},function(t){t&&t("data-v-7f86da70_0",{source:"\n.drag-it-dude {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 1;\n}\n",map:{version:3,sources:["/Users/cas/Git/vue-drag-it-dude/src/DragItDude.vue"],names:[],mappings:";AA6KA;CACA,mBAAA;CACA,OAAA;CACA,QAAA;CACA,WAAA;CACA",file:"DragItDude.vue",sourcesContent:['<template>\n\t<div\n\t\tclass="drag-it-dude"\n\t\t@touchstart.stop="hang"\n\t\t@touchend.stop="drop"\n\t\t@mousedown.stop="hang"\n\t\t@mouseup.stop="drop"\n\t\t@touchmove.stop="iosMove"\n\t>\n\t\t<slot></slot>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: "drag-it-dude",\n\tprops: {\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\theight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tparentWidth: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tparentHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tignoreDrag: {\n\t\t\ttype: [Boolean, Function],\n\t\t\tdefault: false\n\t\t}\n\t},\n\twatch: {\n\t\twidth(newWidth, oldWidth) {\n\t\t\tif (newWidth < oldWidth) return;\n\t\t\tif (this.left === 0) return;\n\n\t\t\tthis.parent.width =\n\t\t\t\tthis.parentWidth || this.elem.parentNode.offsetWidth;\n\t\t\tthis.parent.height =\n\t\t\t\tthis.parentHeight || this.elem.parentNode.offsetHeight;\n\n\t\t\tif (newWidth > this.parent.width - this.left) {\n\t\t\t\tconst newLeft = this.parent.width - newWidth;\n\t\t\t\tthis.left = newLeft < 0 ? 0 : newLeft;\n\t\t\t\tthis.elem.style.left = `${this.left}px`;\n\t\t\t}\n\t\t},\n\t\theight(newHeight, oldHeight) {\n\t\t\tif (newHeight < oldHeight) return;\n\t\t\tif (this.top === 0) return;\n\n\t\t\tthis.parent.width =\n\t\t\t\tthis.parentWidth || this.elem.parentNode.offsetWidth;\n\t\t\tthis.parent.height =\n\t\t\t\tthis.parentHeight || this.elem.parentNode.offsetHeight;\n\n\t\t\tif (newHeight > this.parent.height - this.top) {\n\t\t\t\tconst newTop = this.parent.height - this.height;\n\t\t\t\tthis.top = newTop;\n\t\t\t\tthis.elem.style.top = `${this.top}px`;\n\t\t\t}\n\t\t}\n\t},\n\tdata: () => ({\n\t\tshiftY: null,\n\t\tshiftX: null,\n\t\tleft: 0,\n\t\ttop: 0,\n\t\telem: null,\n\t\tisIos: false,\n\t\tparent: {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t}\n\t}),\n\tmethods: {\n\t\tiosMove(e) {\n\t\t\tif (this.isIos) this.elementMove(e);\n\t\t},\n\t\telementMove(e) {\n\t\t\tthis.$emit("dragging");\n\t\t\te.preventDefault();\n\t\t\tif (!e.pageX) {\n\t\t\t\tdocument.body.style.overflow = "hidden";\n\t\t\t}\n\t\t\tconst x = e.pageX || e.changedTouches[0].pageX;\n\t\t\tconst y = e.pageY || e.changedTouches[0].pageY;\n\t\t\tlet newLeft = x - this.shiftX;\n\t\t\tlet newTop = y - this.shiftY;\n\t\t\tconst newRight = x - this.shiftX + this.elem.offsetWidth;\n\t\t\tconst newBottom = y - this.shiftY + this.elem.offsetHeight;\n\t\t\tif (newLeft < 0) {\n\t\t\t\tnewLeft = 0;\n\t\t\t} else if (newRight > this.parent.width) {\n\t\t\t\tnewLeft = this.parent.width - this.elem.offsetWidth;\n\t\t\t} else {\n\t\t\t\tnewLeft = x - this.shiftX;\n\t\t\t}\n\t\t\tif (newTop < 0) {\n\t\t\t\tnewTop = 0;\n\t\t\t} else if (newBottom > this.parent.height) {\n\t\t\t\tnewTop = this.parent.height - this.elem.offsetHeight;\n\t\t\t} else {\n\t\t\t\tnewTop = y - this.shiftY;\n\t\t\t}\n\t\t\tthis.elem.style.left = `${newLeft}px`;\n\t\t\tthis.left = newLeft;\n\t\t\tthis.elem.style.top = `${newTop}px`;\n\t\t\tthis.top = newTop;\n\t\t},\n\t\thang(e) {\n\t\t\tif (typeof this.ignoreDrag === "function" && this.ignoreDrag(e))\n\t\t\t\treturn;\n\t\t\telse if (typeof this.ignoreDrag === "boolean" && this.ignoreDrag)\n\t\t\t\treturn;\n\t\t\tthis.$emit("activated");\n\t\t\tthis.parent.width =\n\t\t\t\tthis.parentWidth || this.elem.parentNode.offsetWidth;\n\t\t\tthis.parent.height =\n\t\t\t\tthis.parentHeight || this.elem.parentNode.offsetHeight;\n\t\t\tthis.shiftX = e.pageX\n\t\t\t\t? e.pageX - this.elem.offsetLeft\n\t\t\t\t: e.changedTouches[0].pageX - this.elem.offsetLeft;\n\t\t\tthis.shiftY = e.pageY\n\t\t\t\t? e.pageY - this.elem.offsetTop\n\t\t\t\t: e.changedTouches[0].pageY - this.elem.offsetTop;\n\t\t\tif (e.pageX) {\n\t\t\t\tif (this.isIos) {\n\t\t\t\t\tthis.elem.addEventListener("touchmove", this.elementMove);\n\t\t\t\t} else {\n\t\t\t\t\tthis.elem.parentElement.addEventListener(\n\t\t\t\t\t\t"mousemove",\n\t\t\t\t\t\tthis.elementMove\n\t\t\t\t\t);\n\t\t\t\t\tthis.elem.parentElement.addEventListener(\n\t\t\t\t\t\t"mouseleave",\n\t\t\t\t\t\tthis.drop\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.elem.addEventListener("touchmove", this.elementMove);\n\t\t\t}\n\t\t},\n\t\tdrop() {\n\t\t\tthis.$emit("dropped");\n\t\t\tdocument.body.style.overflow = null;\n\t\t\tthis.elem.parentElement.removeEventListener(\n\t\t\t\t"mousemove",\n\t\t\t\tthis.elementMove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.elem.removeEventListener("touchmove", this.elementMove, false);\n\t\t\tthis.elem.parentElement.onmouseup = null;\n\t\t\tthis.elem.ontouchend = null;\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.isIos =\n\t\t\t/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\t\tthis.elem = this.$el;\n\t\tthis.$emit("added", this);\n\t}\n};\n<\/script>\n\n<style>\n.drag-it-dude {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 1;\n}\n</style>\n']},media:void 0})},i,void 0,!1,void 0,e,void 0),a={install:n},r=null;return"undefined"!=typeof window?r=window.Vue:"undefined"!=typeof global&&(r=global.Vue),r&&r.use(a),t.default=o,t}({});
